{"ast":null,"code":"var _jsxFileName = \"/Users/podlevskikh/go/src/podlevskikh/volleymsk_admin/tournament_admin/src/App.tsx\";\nimport './App.css';\nimport * as React from \"react\";\nimport { Admin, Resource } from 'react-admin';\nimport jsonServerProvider from 'ra-data-json-server';\nimport { stringify } from 'query-string';\nimport { fetchUtils } from 'ra-core';\nimport { TournamentList } from './pages/Tournaments';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dataProvider = jsonServerProvider('http://localhost:8080/api');\n\ndataProvider.getList = (resource, params) => {\n  const {\n    page,\n    perPage\n  } = params.pagination;\n  const {\n    field,\n    order\n  } = params.sort;\n  const query = {\n    sort: JSON.stringify([field, order]),\n    range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n    filter: JSON.stringify(params.filter)\n  };\n  const url = `http://localhost:8080/api/${resource}?${stringify(query)}`;\n  return fetchUtils.fetchJson(url).then(_ref => {\n    let {\n      headers,\n      json\n    } = _ref;\n    let jsonData;\n\n    switch (resource) {\n      case \"tournaments\":\n        {\n          jsonData = json.tournaments;\n          break;\n        }\n\n      case \"seasons\":\n        {\n          jsonData = json.seasons;\n          break;\n        }\n\n      default:\n        {\n          break;\n        }\n    }\n\n    const res = {\n      data: jsonData.map(resource => ({ ...resource,\n        id: resource.alias\n      })),\n      total: jsonData.length\n    };\n    console.log(res);\n    return res;\n  });\n};\n\nconst App = () => {\n  return /*#__PURE__*/_jsxDEV(Admin, {\n    dataProvider: dataProvider,\n    children: /*#__PURE__*/_jsxDEV(Resource, {\n      name: \"tournaments\",\n      list: TournamentList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/podlevskikh/go/src/podlevskikh/volleymsk_admin/tournament_admin/src/App.tsx"],"names":["React","Admin","Resource","jsonServerProvider","stringify","fetchUtils","TournamentList","dataProvider","getList","resource","params","page","perPage","pagination","field","order","sort","query","JSON","range","filter","url","fetchJson","then","headers","json","jsonData","tournaments","seasons","res","data","map","id","alias","total","length","console","log","App"],"mappings":";AAAA,OAAO,WAAP;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,aAAhC;AACA,OAAOC,kBAAP,MAA+B,qBAA/B;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,UAAT,QAA2B,SAA3B;AAEA,SACIC,cADJ,QAEO,qBAFP;;AAOA,MAAMC,YAAY,GAAGJ,kBAAkB,CAAC,2BAAD,CAAvC;;AAGAI,YAAY,CAACC,OAAb,GAAuB,CAACC,QAAD,EAAWC,MAAX,KAAsB;AACzC,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAAM,CAACG,UAAjC;AACA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAmBL,MAAM,CAACM,IAAhC;AACA,QAAMC,KAAK,GAAG;AACVD,IAAAA,IAAI,EAAEE,IAAI,CAACd,SAAL,CAAe,CAACU,KAAD,EAAQC,KAAR,CAAf,CADI;AAEVI,IAAAA,KAAK,EAAED,IAAI,CAACd,SAAL,CAAe,CAAC,CAACO,IAAI,GAAG,CAAR,IAAaC,OAAd,EAAuBD,IAAI,GAAGC,OAAP,GAAiB,CAAxC,CAAf,CAFG;AAGVQ,IAAAA,MAAM,EAAEF,IAAI,CAACd,SAAL,CAAeM,MAAM,CAACU,MAAtB;AAHE,GAAd;AAKA,QAAMC,GAAG,GAAI,6BAA4BZ,QAAS,IAAGL,SAAS,CAACa,KAAD,CAAQ,EAAtE;AAEA,SAAOZ,UAAU,CAACiB,SAAX,CAAqBD,GAArB,EAA0BE,IAA1B,CAA+B,QAAuB;AAAA,QAAtB;AAAEC,MAAAA,OAAF;AAAWC,MAAAA;AAAX,KAAsB;AACzD,QAAIC,QAAJ;;AACA,YAAOjB,QAAP;AACI,WAAK,aAAL;AAAoB;AAChBiB,UAAAA,QAAQ,GAAGD,IAAI,CAACE,WAAhB;AACA;AACH;;AACD,WAAK,SAAL;AAAgB;AACZD,UAAAA,QAAQ,GAAGD,IAAI,CAACG,OAAhB;AACA;AACH;;AACD;AAAS;AACL;AACH;AAXL;;AAcA,UAAMC,GAAG,GAAG;AACRC,MAAAA,IAAI,EAAEJ,QAAQ,CAACK,GAAT,CAAatB,QAAQ,KAAK,EAAC,GAAGA,QAAJ;AAAcuB,QAAAA,EAAE,EAAEvB,QAAQ,CAACwB;AAA3B,OAAL,CAArB,CADE;AAERC,MAAAA,KAAK,EAAER,QAAQ,CAACS;AAFR,KAAZ;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAYR,GAAZ;AACA,WAAOA,GAAP;AACH,GAtBM,CAAP;AAuBH,CAjCD;;AAoCA,MAAMS,GAAG,GAAG,MAAM;AACd,sBACI,QAAC,KAAD;AAAO,IAAA,YAAY,EAAE/B,YAArB;AAAA,2BACI,QAAC,QAAD;AACI,MAAA,IAAI,EAAC,aADT;AAEI,MAAA,IAAI,EAAED;AAFV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAQH,CATD;;KAAMgC,G;AAWN,eAAeA,GAAf","sourcesContent":["import './App.css';\nimport * as React from \"react\";\nimport { Admin, Resource } from 'react-admin';\nimport jsonServerProvider from 'ra-data-json-server';\nimport { stringify } from 'query-string';\nimport { fetchUtils } from 'ra-core';\n\nimport {\n    TournamentList,\n} from './pages/Tournaments';\nimport {\n    SeasonList,\n} from './pages/Seasons';\n\nconst dataProvider = jsonServerProvider('http://localhost:8080/api');\n\n\ndataProvider.getList = (resource, params) => {\n    const { page, perPage } = params.pagination;\n    const { field, order } = params.sort;\n    const query = {\n        sort: JSON.stringify([field, order]),\n        range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n        filter: JSON.stringify(params.filter),\n    };\n    const url = `http://localhost:8080/api/${resource}?${stringify(query)}`;\n\n    return fetchUtils.fetchJson(url).then(({ headers, json }) => {\n        let jsonData;\n        switch(resource) {\n            case \"tournaments\": {\n                jsonData = json.tournaments;\n                break;\n            }\n            case \"seasons\": {\n                jsonData = json.seasons;\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n\n        const res = {\n            data: jsonData.map(resource => ({...resource, id: resource.alias})),\n            total: jsonData.length\n        };\n        console.log(res);\n        return res\n    });\n};\n\n\nconst App = () => {\n    return (\n        <Admin dataProvider={dataProvider}>\n            <Resource\n                name=\"tournaments\"\n                list={TournamentList}\n            />\n        </Admin>\n    );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}